<!DOCTYPE html>
<html>
<head>
    <title>Anagrafica</title>
</head>
<body>

Nome: <input type="text" id="nome"><br>
Cognome: <input type="text" id="cognome"><br>
Et√†: <input type="number" id="eta"><br><br>

<button onclick="aggiungi()">Aggiungi</button>
<button onclick="invia()">Invia</button>

<p>Persone inserite: <span id="count">0</span></p>
<div id="lista"></div>

<script>
    var persone = [];
    var indice = 1;

    function aggiungi() {
        var nome = document.getElementById("nome").value;
        var cognome = document.getElementById("cognome").value;
        var eta = document.getElementById("eta").value;

        if (nome == "" || cognome == "" || eta == "") {
            alert("Compila tutti i campi");
            return;
        }

        var persona = {
            indice: indice,
            nome: nome,
            cognome: cognome,
            eta: eta
        };

        persone.push(persona);
        indice++;

        document.getElementById("count").innerHTML = persone.length;

        var testo = "";
        for (var i = 0; i < persone.length; i++) {
            testo += persone[i].indice + " - " +
                     persone[i].nome + " " +
                     persone[i].cognome + " (" +
                     persone[i].eta + " anni)<br>";
        }

        document.getElementById("lista").innerHTML = testo;

        document.getElementById("nome").value = "";
        document.getElementById("cognome").value = "";
        document.getElementById("eta").value = "";
    }

    function invia() {
        if (persone.length == 0) {
            alert("Nessuna persona inserita");
            return;
        }

        localStorage.setItem("persone", JSON.stringify(persone));
        window.location.href = "visualizza.html";
    }
</script>

</body>
</html>

